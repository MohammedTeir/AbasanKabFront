import{d as k,r as p,o as h,a as v,C as A,h as d,c as C,b as a,w as i,i as _,s as q,F as B,e as w,m as N,t as U,j as F,y as T}from"./index-717cf31f.js";const D=F("h3",{class:"lg:mb-[70px] text-[20px] lg:text-[28px] text-right"},"تقديم طلب شكوى",-1),S=k({__name:"Complaint",setup(K){const n=p(),r=p(),u=p(),s=p(),x=p(),g=p(),m=p(),c=p(),b=p([]);async function f(){await v.post("/auth/complaint",{department_id:n.value,complaint_title:r.value,complaint_content:u.value},{headers:{Authorization:`Bearer ${T().token}`}}).then(o=>{s.value=o.data.message,o.data.status==200?x.value=!0:x.value=!1,setTimeout(()=>{s.value=""},3e3),console.log(o.data)})}return h(async()=>{var o;try{const e=await v.get("/departments");b.value=(o=e.data.data)==null?void 0:o.map(l=>({label:l.name,value:l.id}))}catch{}}),A(n,o=>{console.log(o)}),(o,e)=>{const l=d("FormKit"),y=d("base-section"),V=d("toast");return w(),C(B,null,[a(y,null,{default:i(()=>[D,a(l,{type:"form",actions:!1,"form-class":"w-full grid grid-cols-1 lg:grid-cols-3 gap-1 lg:gap-4"},{default:i(()=>[a(l,{type:"select","wrapper-class":"py-2 lg:p-[20px] text-right","inner-class":"w-full","input-class":"lg:text-[22px] w-full border rounded-lg text-[18px] p-2 lg:px-3 lg:py-4 outline-none",label:"إسم الدائرة","label-class":"block text-[18px] lg:text-[22px] mb-2 lg:mb-[25px]",validation:"required",options:b.value,modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t)},null,8,["options","modelValue"]),a(l,{type:"text","wrapper-class":"py-2 lg:p-[20px] text-right","inner-class":"w-full","input-class":"lg:text-[22px] w-full border rounded-lg text-[18px] p-2 lg:px-3 lg:py-4 outline-none",label:"نوع الخدمة","label-class":"block text-[18px] lg:text-[22px] mb-2 lg:mb-[25px]",validation:"required",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t)},null,8,["modelValue"]),a(l,{type:"text","wrapper-class":"py-2 lg:p-[20px] text-right","inner-class":"w-full","input-class":"lg:text-[22px] w-full border rounded-lg text-[18px] p-2 lg:px-3 lg:py-4 outline-none",label:"إسم صاحب الشكوى","label-class":"block text-[18px] lg:text-[22px] mb-2 lg:mb-[25px]",validation:"required",modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t)},null,8,["modelValue"]),a(l,{type:"text","wrapper-class":"py-2 lg:p-[20px] text-right","inner-class":"w-full","input-class":"lg:text-[22px] w-full border rounded-lg text-[18px] p-2 lg:px-3 lg:py-4 outline-none",label:"رقم الجوال","label-class":"block text-[18px] lg:text-[22px] mb-2 lg:mb-[25px]",validation:"required",modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t)},null,8,["modelValue"]),a(l,{type:"text","wrapper-class":"py-2 lg:p-[20px] text-right","inner-class":"w-full","input-class":"lg:text-[22px] w-full border rounded-lg text-[18px] p-2 lg:px-3 lg:py-4 outline-none",label:"العنوان","label-class":"block text-[18px] lg:text-[22px] mb-2 lg:mb-[25px]",validation:"required",modelValue:g.value,"onUpdate:modelValue":e[4]||(e[4]=t=>g.value=t)},null,8,["modelValue"]),a(l,{type:"textarea","wrapper-class":"py-2 lg:p-[20px] text-right col-span-2","inner-class":"w-full",rows:"10","input-class":"lg:text-[22px] w-full border rounded-lg text-[18px] p-2 lg:px-3 lg:py-4 outline-none",label:"نص الشكوى","label-class":"block text-[18px] lg:text-[22px] mb-2 lg:mb-[25px]",validation:"required",modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=t=>u.value=t)},null,8,["modelValue"]),a(l,{type:"button","wrapper-class":"p-[20px]","input-class":"w-full text-white border-[3px] border-[#A7A465] rounded-[10px] text-center w-[320px] h-[60px] text-[20px] bg-[#A7A465]",label:"تقديم الشكوى",onClick:e[6]||(e[6]=t=>f())}),a(l,{type:"button","wrapper-class":"p-[20px]","input-class":"w-full text-[#A7A465] border-[3px] border-[#A7A465] rounded-[10px] text-center w-[320px] h-[60px] text-[20px] bg-white",label:"إلغاء الأمر"})]),_:1})]),_:1}),s.value?(w(),_(V,{key:0,type:x.value},{default:i(()=>[N(U(s.value),1)]),_:1},8,["type"])):q("",!0)],64)}}});export{S as default};
